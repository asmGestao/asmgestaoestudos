<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASM Gest√£o Atlas - Dra. Andresa Augusto</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0d1b2a 0%, #1b263b 50%, #415a77 100%);
            min-height: 100vh;
            color: #e0e1dd;
            overflow-x: hidden;
        }

        /* Anima√ß√£o de part√≠culas no fundo */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 0;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #d4af37;
            border-radius: 50%;
            opacity: 0.3;
            animation: float 15s infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            10% { opacity: 0.3; }
            90% { opacity: 0.3; }
            100% { transform: translateY(-100vh) rotate(720deg); opacity: 0; }
        }

        .container {
            position: relative;
            z-index: 1;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header suspenso e elegante */
        header {
            text-align: center;
            padding: 40px 20px;
            margin-bottom: 30px;
            position: relative;
        }

        header::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, rgba(212,175,55,0.15) 0%, transparent 70%);
            border-radius: 50%;
            animation: pulse 4s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.5; }
            50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.8; }
        }

        h1 {
            font-size: 2.8em;
            color: #d4af37;
            text-shadow: 0 0 20px rgba(212,175,55,0.5);
            margin-bottom: 10px;
            position: relative;
            letter-spacing: 2px;
        }

        .subtitle {
            color: #778da9;
            font-size: 1.2em;
            position: relative;
        }

        .author {
            color: #d4af37;
            font-size: 1em;
            margin-top: 10px;
            position: relative;
        }

        /* Menu suspenso */
        .menu-float {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .menu-btn {
            background: rgba(26, 58, 95, 0.6);
            border: 2px solid #d4af37;
            color: #d4af37;
            padding: 15px 30px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: all 0.4s ease;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .menu-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(212,175,55,0.3), transparent);
            transition: left 0.5s;
        }

        .menu-btn:hover::before {
            left: 100%;
        }

        .menu-btn:hover, .menu-btn.active {
            background: #d4af37;
            color: #0d1b2a;
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(212,175,55,0.4);
        }

        /* Se√ß√µes */
        .section {
            display: none;
            animation: fadeInUp 0.6s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Cards flutuantes */
        .card-container {
            perspective: 1000px;
            max-width: 600px;
            margin: 0 auto 30px;
        }

        .flashcard {
            width: 100%;
            height: 450px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
        }

        .flashcard.flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 25px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            border: 2px solid rgba(212,175,55,0.3);
        }

        .card-front {
            background: linear-gradient(135deg, rgba(26,58,95,0.9) 0%, rgba(13,27,42,0.95) 100%);
            backdrop-filter: blur(10px);
        }

        .card-back {
            background: linear-gradient(135deg, rgba(212,175,55,0.95) 0%, rgba(184,148,31,0.9) 100%);
            transform: rotateY(180deg);
            color: #0d1b2a;
            overflow-y: auto;
        }

        .muscle-icon {
            font-size: 5em;
            margin-bottom: 20px;
            filter: drop-shadow(0 0 10px rgba(212,175,55,0.5));
        }

        .muscle-name {
            font-size: 2em;
            color: #d4af37;
            text-align: center;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .muscle-region {
            background: rgba(212,175,55,0.2);
            color: #d4af37;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 0.9em;
            border: 1px solid #d4af37;
        }

        .tap-hint {
            margin-top: 30px;
            color: #778da9;
            font-size: 0.9em;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .detail-item {
            width: 100%;
            margin-bottom: 15px;
            padding: 15px;
            background: rgba(13,27,42,0.1);
            border-radius: 15px;
            border-left: 4px solid #0d1b2a;
        }

        .detail-label {
            font-weight: bold;
            color: #0d1b2a;
            font-size: 0.85em;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 5px;
        }

        .detail-text {
            color: #1b263b;
            font-size: 0.95em;
            line-height: 1.5;
        }

        /* Controles suspensos */
        .controls-float {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-top: 30px;
        }

        .control-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 2px solid #d4af37;
            background: rgba(26,58,95,0.6);
            color: #d4af37;
            font-size: 1.5em;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
        }

        .control-btn:hover {
            background: #d4af37;
            color: #0d1b2a;
            transform: scale(1.1);
        }

        .control-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .counter {
            background: rgba(212,175,55,0.2);
            color: #d4af37;
            padding: 15px 30px;
            border-radius: 30px;
            font-size: 1.2em;
            font-weight: bold;
            border: 2px solid #d4af37;
            min-width: 120px;
            text-align: center;
        }

        .shuffle-btn {
            background: linear-gradient(135deg, #d4af37 0%, #b8941f 100%);
            color: #0d1b2a;
            border: none;
            padding: 15px 40px;
            border-radius: 30px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s;
            box-shadow: 0 5px 20px rgba(212,175,55,0.4);
        }

        .shuffle-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(212,175,55,0.6);
        }

        /* Quiz simplificado */
        .quiz-container {
            max-width: 700px;
            margin: 0 auto;
        }

        .quiz-box {
            background: rgba(26,58,95,0.6);
            border-radius: 25px;
            padding: 40px;
            border: 2px solid rgba(212,175,55,0.3);
            backdrop-filter: blur(10px);
        }

        .quiz-question {
            font-size: 1.4em;
            color: #d4af37;
            margin-bottom: 30px;
            text-align: center;
            line-height: 1.6;
        }

        .quiz-options {
            display: grid;
            gap: 15px;
        }

        .quiz-option {
            background: rgba(13,27,42,0.6);
            border: 2px solid #778da9;
            color: #e0e1dd;
            padding: 20px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
            font-size: 1em;
        }

        .quiz-option:hover {
            border-color: #d4af37;
            background: rgba(212,175,55,0.1);
            transform: translateX(10px);
        }

        .quiz-option.correct {
            background: rgba(39,174,96,0.3);
            border-color: #27ae60;
            color: #2ecc71;
        }

        .quiz-option.wrong {
            background: rgba(231,76,60,0.3);
            border-color: #e74c3c;
            color: #e74c3c;
        }

        .progress-bar {
            height: 8px;
            background: rgba(119,141,169,0.3);
            border-radius: 4px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #d4af37 0%, #f4d03f 100%);
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(212,175,55,0.5);
        }

        .result-box {
            text-align: center;
            padding: 40px;
        }

        .score-display {
            font-size: 4em;
            color: #d4af37;
            font-weight: bold;
            margin-bottom: 20px;
            text-shadow: 0 0 20px rgba(212,175,55,0.5);
        }

        .start-quiz-btn {
            background: linear-gradient(135deg, #d4af37 0%, #b8941f 100%);
            color: #0d1b2a;
            border: none;
            padding: 20px 50px;
            border-radius: 50px;
            font-size: 1.3em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 10px 30px rgba(212,175,55,0.4);
        }

        .start-quiz-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 40px rgba(212,175,55,0.6);
        }

        /* Filtros flutuantes */
        .filters-float {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .filter-btn {
            background: rgba(26,58,95,0.6);
            border: 2px solid #778da9;
            color: #e0e1dd;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            backdrop-filter: blur(10px);
        }

        .filter-btn:hover, .filter-btn.active {
            border-color: #d4af37;
            color: #d4af37;
            background: rgba(212,175,55,0.1);
        }

        /* Grid de cards pequenos */
        .muscles-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
        }

        .mini-card {
            background: rgba(26,58,95,0.6);
            border-radius: 20px;
            padding: 25px;
            border: 2px solid rgba(212,175,55,0.2);
            cursor: pointer;
            transition: all 0.4s;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .mini-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, #d4af37, transparent);
            transform: scaleX(0);
            transition: transform 0.3s;
        }

        .mini-card:hover::before {
            transform: scaleX(1);
        }

        .mini-card:hover {
            transform: translateY(-10px);
            border-color: #d4af37;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        .mini-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .mini-name {
            color: #d4af37;
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .mini-region {
            color: #778da9;
            font-size: 0.85em;
        }

        /* Modal elegante */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
            backdrop-filter: blur(5px);
        }

        .modal.active {
            display: flex;
            animation: fadeIn 0.3s;
        }

        .modal-content {
            background: linear-gradient(135deg, #1b263b 0%, #0d1b2a 100%);
            border-radius: 25px;
            max-width: 500px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            border: 2px solid #d4af37;
            box-shadow: 0 30px 60px rgba(0,0,0,0.5);
            position: relative;
        }

        .modal-header {
            background: linear-gradient(135deg, #d4af37 0%, #b8941f 100%);
            color: #0d1b2a;
            padding: 25px;
            border-radius: 23px 23px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h3 {
            font-size: 1.5em;
            margin: 0;
        }

        .close-modal {
            background: none;
            border: none;
            color: #0d1b2a;
            font-size: 2em;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.3s;
        }

        .close-modal:hover {
            background: rgba(0,0,0,0.1);
        }

        .modal-body {
            padding: 30px;
        }

        .detail-row {
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(119,141,169,0.1);
            border-radius: 15px;
            border-left: 4px solid #d4af37;
        }

        .detail-row h4 {
            color: #d4af37;
            margin-bottom: 8px;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .detail-row p {
            color: #e0e1dd;
            line-height: 1.6;
        }

        .hidden {
            display: none !important;
        }

        @media (max-width: 768px) {
            h1 { font-size: 2em; }
            .flashcard { height: 400px; }
            .muscle-name { font-size: 1.5em; }
            .controls-float { gap: 10px; }
            .control-btn { width: 50px; height: 50px; }
        }
    </style>
</head>
<body>
    <!-- Part√≠culas animadas no fundo -->
    <div class="particles" id="particles"></div>

    <div class="container">
        <header>
            <h1>üè• ASM GEST√ÉO ATLAS</h1>
            <p class="subtitle">100 M√∫sculos para Estudo</p>
            <p class="author">por Dra. Andresa Augusto</p>
        </header>

        <nav class="menu-float">
            <button class="menu-btn active" onclick="showSection('cards')">üé¥ Flashcards</button>
            <button class="menu-btn" onclick="showSection('quiz')">üìù Quiz</button>
            <button class="menu-btn" onclick="showSection('lista')">üìã Lista</button>
        </nav>

        <!-- SE√á√ÉO FLASHCARDS -->
        <section id="cards" class="section active">
            <div class="card-container">
                <div class="flashcard" id="flashcard" onclick="flipCard()">
                    <div class="card-face card-front" id="cardFront">
                        <div class="muscle-icon">üí™</div>
                        <div class="muscle-name">Carregando...</div>
                        <div class="muscle-region">...</div>
                        <div class="tap-hint">üëÜ Toque para virar</div>
                    </div>
                    <div class="card-face card-back" id="cardBack">
                        <!-- Detalhes aqui -->
                    </div>
                </div>
            </div>

            <div class="controls-float">
                <button class="control-btn" onclick="prevCard()" id="btnPrev">‚óÄ</button>
                <div class="counter" id="counter">1/100</div>
                <button class="control-btn" onclick="nextCard()" id="btnNext">‚ñ∂</button>
            </div>

            <div style="text-align: center;">
                <button class="shuffle-btn" onclick="shuffleCards()">üîÄ Embaralhar</button>
            </div>
        </section>

        <!-- SE√á√ÉO QUIZ -->
        <section id="quiz" class="section">
            <div class="quiz-container">
                <div id="quizStart">
                    <div style="text-align: center; padding: 60px 20px;">
                        <div style="font-size: 4em; margin-bottom: 20px;">üéØ</div>
                        <h2 style="color: #d4af37; margin-bottom: 20px;">Quiz R√°pido</h2>
                        <p style="color: #778da9; margin-bottom: 30px; font-size: 1.1em;">10 perguntas sobre os 100 m√∫sculos</p>
                        <button class="start-quiz-btn" onclick="startQuiz()">‚ñ∂ Iniciar Quiz</button>
                    </div>
                </div>

                <div id="quizGame" class="hidden">
                    <div class="progress-bar">
                        <div class="progress-fill" id="quizProgress" style="width: 0%"></div>
                    </div>
                    <div style="text-align: center; color: #778da9; margin-bottom: 20px;">
                        Quest√£o <span id="qNum">1</span>/10
                    </div>
                    <div class="quiz-box">
                        <div class="quiz-question" id="qText">...</div>
                        <div class="quiz-options" id="qOptions"></div>
                    </div>
                </div>

                <div id="quizEnd" class="hidden">
                    <div class="result-box">
                        <div class="score-display" id="finalScore">0/10</div>
                        <h2 style="color: #d4af37; margin-bottom: 20px;" id="scoreMsg">...</h2>
                        <button class="start-quiz-btn" onclick="resetQuiz()">üîÑ Jogar Novamente</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- SE√á√ÉO LISTA -->
        <section id="lista" class="section">
            <div class="filters-float">
                <button class="filter-btn active" onclick="filterMuscles('all')">Todos</button>
                <button class="filter-btn" onclick="filterMuscles('cabeca')">Cabe√ßa</button>
                <button class="filter-btn" onclick="filterMuscles('pescoco')">Pesco√ßo</button>
                <button class="filter-btn" onclick="filterMuscles('tronco')">Tronco</button>
                <button class="filter-btn" onclick="filterMuscles('superior')">Membros Sup.</button>
                <button class="filter-btn" onclick="filterMuscles('inferior')">Membros Inf.</button>
            </div>
            <div class="muscles-grid" id="musclesList"></div>
        </section>
    </div>

    <!-- Modal -->
    <div class="modal" id="detailModal" onclick="closeModalOutside(event)">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Detalhes</h3>
                <button class="close-modal" onclick="closeModal()">√ó</button>
            </div>
            <div class="modal-body" id="modalBody"></div>
        </div>
    </div>

    <script>
                // ==================== BANCO DE DADOS - 100 M√öSCULOS ====================
        const musclesDB = [
            // CABE√áA - 20 m√∫sculos
            { id: 1, nome: "Frontal", regiao: "cabeca", icone: "üòä", origem: "Galea aponeur√≥tica", insercao: "Pele supraorbital", acao: "Eleva sobrancelhas", inervacao: "Nervo facial (VII)" },
            { id: 2, nome: "Occipital", regiao: "cabeca", icone: "üß†", origem: "Protuber√¢ncia occipital", insercao: "Galea aponeur√≥tica", acao: "Fixa couro cabeludo", inervacao: "Nervo occipital maior" },
            { id: 3, nome: "Orbicular dos Olhos", regiao: "cabeca", icone: "üëÅÔ∏è", origem: "Parede medial da √≥rbita", insercao: "Pele das p√°lpebras", acao: "Fecha olhos", inervacao: "Nervo facial (VII)" },
            { id: 4, nome: "Orbicular da Boca", regiao: "cabeca", icone: "üëÑ", origem: "Maxila e mand√≠bula", insercao: "L√°bios", acao: "Fecha boca", inervacao: "Nervo facial (VII)" },
            { id: 5, nome: "Masseter", regiao: "cabeca", icone: "ü¶∑", origem: "Arco zigom√°tico", insercao: "√Çngulo da mand√≠bula", acao: "Eleva mand√≠bula", inervacao: "Nervo mandibular (V3)" },
            { id: 6, nome: "Temporal", regiao: "cabeca", icone: "‚è±Ô∏è", origem: "Fossa temporal", insercao: "Processo coronoide", acao: "Eleva e retrai mand√≠bula", inervacao: "Nervo mandibular (V3)" },
            { id: 7, nome: "Corrugador do Superc√≠lio", regiao: "cabeca", icone: "üò†", origem: "Processo frontal do maxilar", insercao: "Sobrancelha", acao: "Aproxima sobrancelhas", inervacao: "Nervo facial (VII)" },
            { id: 8, nome: "Procer", regiao: "cabeca", icone: "ü§®", origem: "Cartilagem nasal", insercao: "Pele glabela", acao: "Forma rugas no nariz", inervacao: "Nervo facial (VII)" },
            { id: 9, nome: "Nasal", regiao: "cabeca", icone: "üëÉ", origem: "Maxilar (processo frontal)", insercao: "Cartilagem nasal", acao: "Abre narinas", inervacao: "Nervo facial (VII)" },
            { id: 10, nome: "Zigom√°tico Maior", regiao: "cabeca", icone: "üòÑ", origem: "Arco zigom√°tico", insercao: "√Çngulo da boca", acao: "Sorriso", inervacao: "Nervo facial (VII)" },
            { id: 11, nome: "Zigom√°tico Menor", regiao: "cabeca", icone: "üôÇ", origem: "Arco zigom√°tico", insercao: "L√°bio superior", acao: "Eleva l√°bio superior", inervacao: "Nervo facial (VII)" },
            { id: 12, nome: "Risorius", regiao: "cabeca", icone: "üò¨", origem: "F√°scia masseterica", insercao: "√Çngulo da boca", acao: "Retrai √¢ngulo da boca", inervacao: "Nervo facial (VII)" },
            { id: 13, nome: "Buccinador", regiao: "cabeca", icone: "üòô", origem: "Arco zigom√°tico e mand√≠bula", insercao: "√Çngulo da boca", acao: "Comprime bochechas", inervacao: "Nervo facial (VII)" },
            { id: 14, nome: "Mental", regiao: "cabeca", icone: "üò§", origem: "Fossa incisiva da mand√≠bula", insercao: "Pele do queixo", acao: "Protrai l√°bio inferior", inervacao: "Nervo facial (VII)" },
            { id: 15, nome: "Pterigoide Medial", regiao: "cabeca", icone: "ü¶¥", origem: "Processo pterigoide", insercao: "√Çngulo da mand√≠bula", acao: "Eleva e lateraliza mand√≠bula", inervacao: "Nervo mandibular (V3)" },
            { id: 16, nome: "Pterigoide Lateral", regiao: "cabeca", icone: "ü¶¥", origem: "Asa maior da esfen√≥ide", insercao: "Colo do c√¥ndilo", acao: "Abre e lateraliza mand√≠bula", inervacao: "Nervo mandibular (V3)" },
            { id: 17, nome: "Miloioideo", regiao: "cabeca", icone: "üëÖ", origem: "Fossa miloioidea", insercao: "Corpo hioide", acao: "Eleva assoalho da boca", inervacao: "Nervo mandibular (V3)" },
            { id: 18, nome: "Genioioideo", regiao: "cabeca", icone: "üëÖ", origem: "Espinha mental", insercao: "Corpo hioide", acao: "Eleva laringe", inervacao: "Hipoglosso (XII)" },
            { id: 19, nome: "Estiloglosso", regiao: "cabeca", icone: "üëÖ", origem: "Processo estiloide", insercao: "Lateral da l√≠ngua", acao: "Retrai e eleva l√≠ngua", inervacao: "Hipoglosso (XII)" },
            { id: 20, nome: "Hioioideo", regiao: "cabeca", icone: "üëÖ", origem: "Corpo hioide", insercao: "L√≠ngua", acao: "Abaixa l√≠ngua", inervacao: "Hipoglosso (XII)" },

            // PESCO√áO - 15 m√∫sculos
            { id: 21, nome: "Esternocleidomastoideo", regiao: "pescoco", icone: "ü¶¢", origem: "Esterno e clav√≠cula", insercao: "Processo mastoide", acao: "Rota√ß√£o e flex√£o da cabe√ßa", inervacao: "Nervo acess√≥rio (XI)" },
            { id: 22, nome: "Trap√©zio (superior)", regiao: "pescoco", icone: "üôÜ", origem: "Occipital e C7-T12", insercao: "Clav√≠cula e esc√°pula", acao: "Eleva esc√°pula", inervacao: "Nervo acess√≥rio (XI)" },
            { id: 23, nome: "Escaleno Anterior", regiao: "pescoco", icone: "ü´Å", origem: "C3-C6", insercao: "1¬™ costela", acao: "Eleva 1¬™ costela", inervacao: "C4-C6" },
            { id: 24, nome: "Escaleno M√©dio", regiao: "pescoco", icone: "ü´Å", origem: "C2-C7", insercao: "1¬™ costela", acao: "Eleva 1¬™ costela", inervacao: "C3-C8" },
            { id: 25, nome: "Escaleno Posterior", regiao: "pescoco", icone: "ü´Å", origem: "C5-C7", insercao: "2¬™ costela", acao: "Eleva 2¬™ costela", inervacao: "C6-C8" },
            { id: 26, nome: "Platisma", regiao: "pescoco", icone: "üò∞", origem: "F√°scia peitoral", insercao: "Mand√≠bula", acao: "Tens√£o pele do pesco√ßo", inervacao: "Nervo facial (VII)" },
            { id: 27, nome: "Longo do Pesco√ßo", regiao: "pescoco", icone: "ü¶í", origem: "T1-C5", insercao: "C2-C4", acao: "Flex√£o do pesco√ßo", inervacao: "Nervos cervicais" },
            { id: 28, nome: "Long√≠ssimo do Pesco√ßo", regiao: "pescoco", icone: "ü¶í", origem: "T1-T5", insercao: "Processo mastoide", acao: "Estende cabe√ßa", inervacao: "Nervos cervicais" },
            { id: 29, nome: "Espl√™nio da Cabe√ßa", regiao: "pescoco", icone: "ü¶í", origem: "C7-T4", insercao: "Occipital e mastoide", acao: "Estende e rotaciona cabe√ßa", inervacao: "Nervos cervicais" },
            { id: 30, nome: "Semiespinhal da Cabe√ßa", regiao: "pescoco", icone: "ü¶¥", origem: "C4-T5", insercao: "Occipital", acao: "Estende cabe√ßa", inervacao: "Nervos cervicais" },
            { id: 31, nome: "Estiloioideo", regiao: "pescoco", icone: "ü¶¥", origem: "Processo estiloide", insercao: "Corpo hioide", acao: "Eleva assoalho da boca", inervacao: "Nervo facial (VII)" },
            { id: 32, nome: "Estilofaringeo", regiao: "pescoco", icone: "üëÑ", origem: "Processo estiloide", insercao: "Parede far√≠ngea", acao: "Eleva faringe", inervacao: "Glossofaringeo (IX)" },
            { id: 33, nome: "Constrictor Superior da Faringe", regiao: "pescoco", icone: "üëÑ", origem: "L√¢mina medial da pterigoide", insercao: "Rafe far√≠ngeo", acao: "Degluti√ß√£o", inervacao: "Nervo vago (X)" },
            { id: 34, nome: "Constrictor M√©dio da Faringe", regiao: "pescoco", icone: "üëÑ", origem: "Cartilagens tireoide e cricoide", insercao: "Rafe far√≠ngeo", acao: "Degluti√ß√£o", inervacao: "Nervo vago (X)" },
            { id: 35, nome: "Constrictor Inferior da Faringe", regiao: "pescoco", icone: "üëÑ", origem: "Cartilagem cricoide", insercao: "Rafe far√≠ngeo", acao: "Degluti√ß√£o", inervacao: "Nervo vago (X)" },

            // TRONCO - 20 m√∫sculos
            { id: 36, nome: "Peitoral Maior", regiao: "tronco", icone: "üí™", origem: "Clav√≠cula, esterno, costelas 1-6", insercao: "Tub√©rculo maior do √∫mero", acao: "Adu√ß√£o e flex√£o do bra√ßo", inervacao: "Nervos peitorais" },
            { id: 37, nome: "Peitoral Menor", regiao: "tronco", icone: "ü¶¥", origem: "Costelas 3-5", insercao: "Processo coracoide", acao: "Deprime esc√°pula", inervacao: "Nervo peitoral medial" },
            { id: 38, nome: "Delt√≥ide", regiao: "tronco", icone: "üéØ", origem: "Clav√≠cula, acr√¥mio, espinha da esc√°pula", insercao: "Tuberosidade deltoide", acao: "Abdu√ß√£o do bra√ßo", inervacao: "Nervo axilar" },
            { id: 39, nome: "Reto Abdominal", regiao: "tronco", icone: "üèãÔ∏è", origem: "S√≠nfise p√∫bica", insercao: "Xif√≥ide e costelas 5-7", acao: "Flex√£o do tronco", inervacao: "T7-T12" },
            { id: 40, nome: "Obl√≠quo Externo", regiao: "tronco", icone: "üîÑ", origem: "8 √∫ltimas costelas", insercao: "Crista il√≠aca e linha alba", acao: "Rota√ß√£o e flex√£o do tronco", inervacao: "Nervos intercostais" },
            { id: 41, nome: "Obl√≠quo Interno", regiao: "tronco", icone: "üîÑ", origem: "F√°scia toracolombar", insercao: "Costelas 10-12 e linha alba", acao: "Rota√ß√£o e flex√£o do tronco", inervacao: "Nervos intercostais" },
            { id: 42, nome: "Transverso do Abdome", regiao: "tronco", icone: "‚û°Ô∏è", origem: "6 √∫ltimas costelas", insercao: "Linha alba", acao: "Compress√£o abdominal", inervacao: "T7-T12" },
            { id: 43, nome: "Quadrado Lombar", regiao: "tronco", icone: "üî∑", origem: "Crista il√≠aca", insercao: "12¬™ costela e L1-L4", acao: "Flex√£o lateral do tronco", inervacao: "T12-L3" },
            { id: 44, nome: "Eretor da Espinha", regiao: "tronco", icone: "ü¶¥", origem: "Sacro e il√≠aco", insercao: "V√©rtebras e costelas", acao: "Extens√£o da coluna", inervacao: "Nervos espinais" },
            { id: 45, nome: "Romb√≥ide Maior", regiao: "tronco", icone: "üî∂", origem: "T2-T5", insercao: "Borda medial da esc√°pula", acao: "Aduz esc√°pula", inervacao: "Nervo dorsal da esc√°pula" },
            { id: 46, nome: "Romb√≥ide Menor", regiao: "tronco", icone: "üîπ", origem: "C7-T1", insercao: "Borda medial da esc√°pula", acao: "Aduz esc√°pula", inervacao: "Nervo dorsal da esc√°pula" },
            { id: 47, nome: "Lat√≠ssimo do Dorso", regiao: "tronco", icone: "ü™Ω", origem: "T7-L5, sacro e il√≠aco", insercao: "Sulco intertubercular", acao: "Extens√£o e adu√ß√£o do bra√ßo", inervacao: "Nervo toracodorsal" },
            { id: 48, nome: "Levantador da Esc√°pula", regiao: "tronco", icone: "‚¨ÜÔ∏è", origem: "C1-C4", insercao: "√Çngulo superior da esc√°pula", acao: "Eleva esc√°pula", inervacao: "C3-C4" },
            { id: 49, nome: "Infraespinhal", regiao: "tronco", icone: "ü¶¥", origem: "Fossa infraespinhal", insercao: "Tub√©rculo maior do √∫mero", acao: "Rota√ß√£o lateral do bra√ßo", inervacao: "Nervo supraescapular" },
            { id: 50, nome: "Supraespinhal", regiao: "tronco", icone: "ü¶¥", origem: "Fossa supraespinhal", insercao: "Tub√©rculo maior do √∫mero", acao: "Abdu√ß√£o inicial do bra√ßo", inervacao: "Nervo supraescapular" },
            { id: 51, nome: "Subescapular", regiao: "tronco", icone: "ü¶¥", origem: "Fossa subescapular", insercao: "Tub√©rculo menor do √∫mero", acao: "Rota√ß√£o medial do bra√ßo", inervacao: "Nervos subescapulares" },
            { id: 52, nome: "Redondo Maior", regiao: "tronco", icone: "üîÑ", origem: "Borda inferior da esc√°pula", insercao: "Sulco intertubercular", acao: "Extens√£o e rota√ß√£o medial", inervacao: "Nervo subescapular inferior" },
            { id: 53, nome: "Redondo Menor", regiao: "tronco", icone: "üîÑ", origem: "Borda lateral da esc√°pula", insercao: "Tub√©rculo maior do √∫mero", acao: "Rota√ß√£o lateral do bra√ßo", inervacao: "Nervo axilar" },
            { id: 54, nome: "Diafragma", regiao: "tronco", icone: "ü´Å", origem: "Esterno, costelas e coluna", insercao: "Tend√£o central", acao: "Inspira√ß√£o principal", inervacao: "Nervo fr√™nico C3-C5" },
            { id: 55, nome: "Intercostal Externo", regiao: "tronco", icone: "ü´Å", origem: "Borda inferior da costela", insercao: "Borda superior da costela abaixo", acao: "Eleva costelas (inspira√ß√£o)", inervacao: "Nervos intercostais" },
            { id: 56, nome: "Intercostal Interno", regiao: "tronco", icone: "ü´Å", origem: "Borda superior da costela", insercao: "Borda inferior da costela acima", acao: "Abaixa costelas (expira√ß√£o)", inervacao: "Nervos intercostais" },

            // MEMBROS SUPERIORES - 22 m√∫sculos
            { id: 57, nome: "B√≠ceps Braquial", regiao: "superior", icone: "üí™", origem: "Esc√°pula (coracoide e supraglenoide)", insercao: "Tuberosidade do r√°dio", acao: "Flex√£o do cotovelo e supina√ß√£o", inervacao: "Nervo musculocut√¢neo" },
            { id: 58, nome: "Braquial", regiao: "superior", icone: "üí™", origem: "Face anterior do √∫mero", insercao: "Ulna (tuberosidade)", acao: "Flex√£o do cotovelo", inervacao: "Nervo musculocut√¢neo" },
            { id: 59, nome: "Braquiorradial", regiao: "superior", icone: "üí™", origem: "Crista supracondilar lateral", insercao: "Processo estil√≥ide do r√°dio", acao: "Flex√£o do cotovelo", inervacao: "Nervo radial" },
            { id: 60, nome: "Tr√≠ceps Braquial", regiao: "superior", icone: "ü¶æ", origem: "Esc√°pula (infraglenoide) e √∫mero", insercao: "Ol√©crano da ulna", acao: "Extens√£o do cotovelo", inervacao: "Nervo radial" },
            { id: 61, nome: "Supinador", regiao: "superior", icone: "üîÑ", origem: "Epic√¥ndilo lateral e ulna", insercao: "R√°dio proximal", acao: "Supina√ß√£o do antebra√ßo", inervacao: "Nervo radial" },
            { id: 62, nome: "Pronador Redondo", regiao: "superior", icone: "üîÑ", origem: "Epic√¥ndilo medial e ulna", insercao: "R√°dio", acao: "Prona√ß√£o e flex√£o do cotovelo", inervacao: "Nervo mediano" },
            { id: 63, nome: "Pronador Quadrado", regiao: "superior", icone: "‚¨ú", origem: "Ulna distal", insercao: "R√°dio distal", acao: "Prona√ß√£o do antebra√ßo", inervacao: "Nervo mediano" },
            { id: 64, nome: "Flexor Superficial dos Dedos", regiao: "superior", icone: "ü§å", origem: "Epic√¥ndilo medial", insercao: "Falanges m√©dias dos dedos 2-5", acao: "Flex√£o dos dedos", inervacao: "Nervo mediano" },
            { id: 65, nome: "Flexor Profundo dos Dedos", regiao: "superior", icone: "ü§å", origem: "Ulna e membrana inter√≥ssea", insercao: "Falanges distais dos dedos 2-5", acao: "Flex√£o dos dedos", inervacao: "Mediano e ulnar" },
            { id: 66, nome: "Flexor Longo do Polegar", regiao: "superior", icone: "üëç", origem: "R√°dio e membrana inter√≥ssea", insercao: "Falange distal do polegar", acao: "Flex√£o do polegar", inervacao: "Nervo mediano" },
            { id: 67, nome: "Extensor Comum dos Dedos", regiao: "superior", icone: "üñêÔ∏è", origem: "Epic√¥ndilo lateral", insercao: "Falanges dos dedos 2-5", acao: "Extens√£o dos dedos", inervacao: "Nervo radial" },
            { id: 68, nome: "Extensor Longo do Polegar", regiao: "superior", icone: "üëç", origem: "Ulna e membrana inter√≥ssea", insercao: "Falange distal do polegar", acao: "Extens√£o do polegar", inervacao: "Nervo radial" },
            { id: 69, nome: "Extensor Curto do Polegar", regiao: "superior", icone: "üëç", origem: "R√°dio e membrana inter√≥ssea", insercao: "Falange proximal do polegar", acao: "Extens√£o do polegar", inervacao: "Nervo radial" },
            { id: 70, nome: "Abdutor Longo do Polegar", regiao: "superior", icone: "üëê", origem: "R√°dio, ulna e membrana inter√≥ssea", insercao: "1¬∫ metacarpo", acao: "Abdu√ß√£o do polegar", inervacao: "Nervo radial" },
            { id: 71, nome: "Abdutor Curto do Polegar", regiao: "superior", icone: "üëê", origem: "Escafoide e trap√©zio", insercao: "Falange proximal do polegar", acao: "Abdu√ß√£o do polegar", inervacao: "Nervo mediano" },
            { id: 72, nome: "Oponente do Polegar", regiao: "superior", icone: "ü§ù", origem: "Trap√©zio", insercao: "1¬∫ metacarpo", acao: "Oposi√ß√£o do polegar", inervacao: "Nervo mediano" },
            { id: 73, nome: "Lumbrical", regiao: "superior", icone: "ü§å", origem: "Tend√µes do flexor profundo", insercao: "Tend√µes extensores", acao: "Flex√£o MCP e extens√£o IF", inervacao: "Mediano e ulnar" },
            { id: 74, nome: "Inter√≥sseo Dorsal", regiao: "superior", icone: "‚úã", origem: "Faces adjacentes dos metacarpos", insercao: "Falanges proximais", acao: "Abdu√ß√£o dos dedos", inervacao: "Nervo ulnar" },
            { id: 75, nome: "Inter√≥sseo Palmar", regiao: "superior", icone: "‚úã", origem: "Faces adjacentes dos metacarpos", insercao: "Falanges proximais", acao: "Adu√ß√£o dos dedos", inervacao: "Nervo ulnar" },
            { id: 76, nome: "Abdutor do M√≠nimo", regiao: "superior", icone: "ü§ö", origem: "Pisiforme", insercao: "5¬∫ metacarpo", acao: "Abdu√ß√£o do m√≠nimo", inervacao: "Nervo ulnar" },
            { id: 77, nome: "Oponente do M√≠nimo", regiao: "superior", icone: "ü§ö", origem: "Hamato", insercao: "5¬∫ metacarpo", acao: "Oposi√ß√£o do m√≠nimo", inervacao: "Nervo ulnar" },
            { id: 78, nome: "Coracobraquial", regiao: "superior", icone: "üí™", origem: "Processo coracoide", insercao: "Face medial do √∫mero", acao: "Flex√£o e adu√ß√£o do bra√ßo", inervacao: "Nervo musculocut√¢neo" },

            // MEMBROS INFERIORES - 23 m√∫sculos
            { id: 79, nome: "Iliopsoas", regiao: "inferior", icone: "üèÉ", origem: "Fossa il√≠aca e T12-L5", insercao: "Troc√¢nter menor", acao: "Flex√£o do quadril", inervacao: "Femoral e lombares" },
            { id: 80, nome: "Reto Femoral", regiao: "inferior", icone: "ü¶µ", origem: "Espinha il√≠aca anterior inferior", insercao: "Tuberosidade da t√≠bia", acao: "Extens√£o do joelho e flex√£o do quadril", inervacao: "Nervo femoral" },
            { id: 81, nome: "Vasto Lateral", regiao: "inferior", icone: "ü¶µ", origem: "Troc√¢nter maior e linha √°spera", insercao: "Tuberosidade da t√≠bia", acao: "Extens√£o do joelho", inervacao: "Nervo femoral" },
            { id: 82, nome: "Vasto Medial", regiao: "inferior", icone: "ü¶µ", origem: "Linha intertrocant√©rica", insercao: "Tuberosidade da t√≠bia", acao: "Extens√£o do joelho", inervacao: "Nervo femoral" },
            { id: 83, nome: "Vasto Interm√©dio", regiao: "inferior", icone: "ü¶µ", origem: "Face anterior do f√™mur", insercao: "Tuberosidade da t√≠bia", acao: "Extens√£o do joelho", inervacao: "Nervo femoral" },
            { id: 84, nome: "Sart√≥rio", regiao: "inferior", icone: "üìè", origem: "Espinha il√≠aca anterior superior", insercao: "Tuberosidade da t√≠bia", acao: "Flex√£o, abdu√ß√£o e rota√ß√£o lateral do quadril", inervacao: "Nervo femoral" },
            { id: 85, nome: "Adutor Magno", regiao: "inferior", icone: "ü¶µ", origem: "S√≠nfise p√∫bica e tuberosidade isqui√°tica", insercao: "Linha √°spera", acao: "Adu√ß√£o do quadril", inervacao: "Obturador e ci√°tico" },
            { id: 86, nome: "Adutor Longo", regiao: "inferior", icone: "ü¶µ", origem: "S√≠nfise p√∫bica", insercao: "Linha √°spera", acao: "Adu√ß√£o do quadril", inervacao: "Nervo obturador" },
            { id: 87, nome: "Gr√°cil", regiao: "inferior", icone: "ü¶µ", origem: "S√≠nfise p√∫bica", insercao: "Tuberosidade da t√≠bia", acao: "Adu√ß√£o do quadril e flex√£o do joelho", inervacao: "Nervo obturador" },
            { id: 88, nome: "Pect√≠neo", regiao: "inferior", icone: "üî∑", origem: "Pecten do pubis", insercao: "Linha pect√≠nea", acao: "Adu√ß√£o e flex√£o do quadril", inervacao: "Nervo femoral" },
            { id: 89, nome: "Tensor da F√°scia Lata", regiao: "inferior", icone: "üéØ", origem: "Espinha il√≠aca anterior superior", insercao: "Trato iliotibial", acao: "Tens√£o da f√°scia lata", inervacao: "Nervo gl√∫teo superior" },
            { id: 90, nome: "Gl√∫teo M√°ximo", regiao: "inferior", icone: "üçë", origem: "Fossa il√≠aca posterior, sacro e c√≥ccix", insercao: "Trato iliotibial", acao: "Extens√£o e rota√ß√£o lateral do quadril", inervacao: "Nervo gl√∫teo inferior" },
            { id: 91, nome: "Gl√∫teo M√©dio", regiao: "inferior", icone: "üçë", origem: "Fossa il√≠aca externa", insercao: "Troc√¢nter maior", acao: "Abdu√ß√£o do quadril", inervacao: "Nervo gl√∫teo superior" },
            { id: 92, nome: "Gl√∫teo Menor", regiao: "inferior", icone: "üçë", origem: "Fossa il√≠aca externa", insercao: "Troc√¢nter maior", acao: "Abdu√ß√£o do quadril", inervacao: "Nervo gl√∫teo superior" },
            { id: 93, nome: "B√≠ceps Femoral", regiao: "inferior", icone: "ü¶µ", origem: "Tuberosidade isqui√°tica", insercao: "Cabe√ßa da f√≠bula", acao: "Extens√£o do quadril e flex√£o do joelho", inervacao: "Nervo ci√°tico" },
            { id: 94, nome: "Semitendinoso", regiao: "inferior", icone: "ü¶µ", origem: "Tuberosidade isqui√°tica", insercao: "Tuberosidade da t√≠bia", acao: "Extens√£o do quadril e flex√£o do joelho", inervacao: "Nervo ci√°tico" },
            { id: 95, nome: "Semimembranoso", regiao: "inferior", icone: "ü¶µ", origem: "Tuberosidade isqui√°tica", insercao: "C√¥ndilo medial da t√≠bia", acao: "Extens√£o do quadril e flex√£o do joelho", inervacao: "Nervo ci√°tico" },
            { id: 96, nome: "Popl√≠teo", regiao: "inferior", icone: "ü¶µ", origem: "C√¥ndilo lateral do f√™mur", insercao: "T√≠bia posterior", acao: "Flex√£o do joelho", inervacao: "Nervo tibial" },
            { id: 97, nome: "Tibial Anterior", regiao: "inferior", icone: "ü¶∂", origem: "T√≠bia lateral", insercao: "1¬∫ metatarso", acao: "Dorsiflex√£o e invers√£o", inervacao: "Nervo fibular profundo" },
            { id: 98, nome: "Tibial Posterior", regiao: "inferior", icone: "ü¶∂", origem: "T√≠bia, fibra e membrana inter√≥ssea", insercao: "Navicular e cuneiformes", acao: "Invers√£o do p√©", inervacao: "Nervo tibial" },
            { id: 99, nome: "Fibular Longo", regiao: "inferior", icone: "ü¶∂", origem: "Cabe√ßa e fibra", insercao: "1¬∫ metatarso", acao: "Evers√£o do p√©", inervacao: "Nervo fibular superficial" },
            { id: 100, nome: "Gastrocn√™mio", regiao: "inferior", icone: "ü¶µ", origem: "C√¥ndilos do f√™mur", insercao: "Calc√¢neo", acao: "Flex√£o plantar e flex√£o do joelho", inervacao: "Nervo tibial" }
        ];

        // ==================== VARI√ÅVEIS GLOBAIS ====================
        let currentCard = 0;
        let shuffledMuscles = [...musclesDB];
        let quizQuestions = [];
        let currentQuestion = 0;
        let quizScore = 0;

        // ==================== INICIALIZA√á√ÉO ====================
        document.addEventListener('DOMContentLoaded', function() {
            createParticles();
            showCard();
            renderList('all');
        });

        function createParticles() {
            const container = document.getElementById('particles');
            for (let i = 0; i < 50; i++) {
                const p = document.createElement('div');
                p.className = 'particle';
                p.style.left = Math.random() * 100 + '%';
                p.style.animationDelay = Math.random() * 15 + 's';
                p.style.animationDuration = (10 + Math.random() * 10) + 's';
                container.appendChild(p);
            }
        }
        // ==================== NAVEGA√á√ÉO ====================
        function showSection(section) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.menu-btn').forEach(b => b.classList.remove('active'));
            
            document.getElementById(section).classList.add('active');
            event.target.classList.add('active');
            
            if (section === 'cards') showCard();
            if (section === 'lista') renderList('all');
        }

        // ==================== FLASHCARDS ====================
        function showCard() {
            const m = shuffledMuscles[currentCard];
            
            document.getElementById('cardFront').innerHTML = `
                <div class="muscle-icon">${m.icone}</div>
                <div class="muscle-name">${m.nome}</div>
                <div class="muscle-region">${getRegionName(m.regiao)}</div>
                <div class="tap-hint">üëÜ Toque para virar</div>
            `;
            
            document.getElementById('cardBack').innerHTML = `
                <div style="width: 100%;">
                    <h3 style="color: #0d1b2a; margin-bottom: 20px; font-size: 1.5em; text-align: center;">${m.nome}</h3>
                    
                    <div class="detail-item">
                        <div class="detail-label">üìç Origem</div>
                        <div class="detail-text">${m.origem}</div>
                    </div>
                    
                    <div class="detail-item">
                        <div class="detail-label">üéØ Inser√ß√£o</div>
                        <div class="detail-text">${m.insercao}</div>
                    </div>
                    
                    <div class="detail-item">
                        <div class="detail-label">‚ö° A√ß√£o</div>
                        <div class="detail-text">${m.acao}</div>
                    </div>
                    
                    <div class="detail-item">
                        <div class="detail-label">üß† Inerva√ß√£o</div>
                        <div class="detail-text">${m.inervacao}</div>
                    </div>
                </div>
            `;
            
            document.getElementById('counter').textContent = `${currentCard + 1}/${shuffledMuscles.length}`;
            document.getElementById('btnPrev').disabled = currentCard === 0;
            document.getElementById('btnNext').disabled = currentCard === shuffledMuscles.length - 1;
            
            document.getElementById('flashcard').classList.remove('flipped');
        }

        function flipCard() {
            document.getElementById('flashcard').classList.toggle('flipped');
        }

        function nextCard() {
            if (currentCard < shuffledMuscles.length - 1) {
                currentCard++;
                document.getElementById('flashcard').classList.remove('flipped');
                setTimeout(showCard, 300);
            }
        }

        function prevCard() {
            if (currentCard > 0) {
                currentCard--;
                document.getElementById('flashcard').classList.remove('flipped');
                setTimeout(showCard, 300);
            }
        }

        function shuffleCards() {
            shuffledMuscles = [...musclesDB].sort(() => Math.random() - 0.5);
            currentCard = 0;
            showCard();
        }

        function getRegionName(r) {
            const names = { cabeca: 'Cabe√ßa', pescoco: 'Pesco√ßo', tronco: 'Tronco', superior: 'Membros Superiores', inferior: 'Membros Inferiores' };
            return names[r] || r;
        }

        // ==================== QUIZ ====================
        function startQuiz() {
            quizQuestions = [];
            const used = new Set();
            
            while (quizQuestions.length < 10) {
                const m = musclesDB[Math.floor(Math.random() * musclesDB.length)];
                if (used.has(m.id)) continue;
                used.add(m.id);
                
                const type = Math.floor(Math.random() * 3);
                let q, options, correct;
                
                if (type === 0) {
                    q = `Qual a principal a√ß√£o do ${m.nome}?`;
                    correct = m.acao;
                    options = getRandomOptions(musclesDB, 'acao', correct);
                } else if (type === 1) {
                    q = `Qual o nervo que inerva o ${m.nome}?`;
                    correct = m.inervacao;
                    options = getRandomOptions(musclesDB, 'inervacao', correct);
                } else {
                    q = `Qual m√∫sculo tem como a√ß√£o: ${m.acao}?`;
                    correct = m.nome;
                    options = getRandomNameOptions(musclesDB, correct);
                }
                
                quizQuestions.push({ q, options, correct });
            }
            
            currentQuestion = 0;
            quizScore = 0;
            
            document.getElementById('quizStart').classList.add('hidden');
            document.getElementById('quizGame').classList.remove('hidden');
            document.getElementById('quizEnd').classList.add('hidden');
            
            showQuestion();
        }

        function getRandomOptions(arr, field, correct) {
            const opts = [correct];
            while (opts.length < 4) {
                const r = arr[Math.floor(Math.random() * arr.length)];
                if (!opts.includes(r[field])) opts.push(r[field]);
            }
            return opts.sort(() => Math.random() - 0.5);
        }

        function getRandomNameOptions(arr, correct) {
            const opts = [correct];
            while (opts.length < 4) {
                const r = arr[Math.floor(Math.random() * arr.length)];
                if (!opts.includes(r.nome)) opts.push(r.nome);
            }
            return opts.sort(() => Math.random() - 0.5);
        }

        function showQuestion() {
            const q = quizQuestions[currentQuestion];
            document.getElementById('qNum').textContent = currentQuestion + 1;
            document.getElementById('quizProgress').style.width = ((currentQuestion + 1) / 10 * 100) + '%';
            document.getElementById('qText').textContent = q.q;
            
            const container = document.getElementById('qOptions');
            container.innerHTML = '';
            
            q.options.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'quiz-option';
                btn.textContent = opt;
                btn.onclick = () => checkAnswer(btn, opt, q.correct);
                container.appendChild(btn);
            });
        }

        function checkAnswer(btn, selected, correct) {
            const all = document.querySelectorAll('.quiz-option');
            all.forEach(b => b.disabled = true);
            
            if (selected === correct) {
                btn.classList.add('correct');
                quizScore++;
            } else {
                btn.classList.add('wrong');
                all.forEach(b => { if (b.textContent === correct) b.classList.add('correct'); });
            }
            
            setTimeout(() => {
                currentQuestion++;
                if (currentQuestion < 10) showQuestion();
                else showResults();
            }, 1500);
        }

        function showResults() {
            document.getElementById('quizGame').classList.add('hidden');
            document.getElementById('quizEnd').classList.remove('hidden');
            document.getElementById('finalScore').textContent = `${quizScore}/10`;
            
            const msgs = [
                { min: 9, msg: "üèÜ Excelente! Voc√™ domina a anatomia!" },
                { min: 7, msg: "üëè Muito bom! Conhecimento s√≥lido!" },
                { min: 5, msg: "üëç Bom! Continue praticando!" },
                { min: 0, msg: "üìö Continue estudando! Voc√™ consegue!" }
            ];
            document.getElementById('scoreMsg').textContent = msgs.find(m => quizScore >= m.min).msg;
        }

        function resetQuiz() {
            document.getElementById('quizEnd').classList.add('hidden');
            document.getElementById('quizStart').classList.remove('hidden');
        }

        // ==================== LISTA DE M√öSCULOS ====================
        function renderList(filter) {
            const container = document.getElementById('musclesList');
            const filtered = filter === 'all' ? musclesDB : musclesDB.filter(m => m.regiao === filter);
            
            container.innerHTML = filtered.map(m => `
                <div class="mini-card" onclick="showDetail(${m.id})">
                    <div class="mini-icon">${m.icone}</div>
                    <div class="mini-name">${m.nome}</div>
                    <div class="mini-region">${getRegionName(m.regiao)}</div>
                </div>
            `).join('');
        }

        function filterMuscles(region) {
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            renderList(region);
        }

        function showDetail(id) {
            const m = musclesDB.find(x => x.id === id);
            document.getElementById('modalTitle').textContent = m.nome;
            document.getElementById('modalBody').innerHTML = `
                <div style="text-align: center; margin-bottom: 20px;">
                    <div style="font-size: 4em;">${m.icone}</div>
                    <div style="color: #d4af37; font-size: 1.2em;">${getRegionName(m.regiao)}</div>
                </div>
                <div class="detail-row"><h4>üìç Origem</h4><p>${m.origem}</p></div>
                <div class="detail-row"><h4>üéØ Inser√ß√£o</h4><p>${m.insercao}</p></div>
                <div class="detail-row"><h4>‚ö° A√ß√£o</h4><p>${m.acao}</p></div>
                <div class="detail-row"><h4>üß† Inerva√ß√£o</h4><p>${m.inervacao}</p></div>
            `;
            document.getElementById('detailModal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('detailModal').classList.remove('active');
        }

        function closeModalOutside(e) {
            if (e.target.id === 'detailModal') closeModal();
        }
    </script>
</body>
</html>

